<div class="container my-4">
    <div class="row">
        <div class="col-md-12">
            <p class="text-muted">网址：需包含 http 或 https 前缀 &nbsp; &nbsp; &nbsp; 电话：tel:电话号码 &nbsp; &nbsp; &nbsp; 邮箱：mailto:邮箱地址</p>
            <div class="input-group">
                <input id="txt" type="text" class="form-control" placeholder="内容：网址、电话、邮箱" />
                <span class="input-group-append">
                    <button class="btn btn-success" type="button" id="btnCode">生成二维码</button>
                </span>
            </div>
            <div id="divCodeResult" class="mt-3" style="height:520px;"></div>
        </div>
    </div>
</div>

<script src="/js/qrcode/qrcode.min.js" asp-append-version="true"></script>

<script>
    $('#txt').keydown(function (e) {
        e = e || window.event;
        var keys = e.keyCode || e.which || e.charCode;
        keys == 13 && makeTowCode()
    })[0].focus();
    $("#btnCode").click(makeTowCode);
    function makeTowCode() {
        if ($.trim($("#txt").val()) != "") {
            $("#divCodeResult").empty();
            new QRCode(document.getElementById("divCodeResult"), {
                text: $("#txt").val(),
                width: 500,
                height: 500,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        } else { $("#divCodeResult").html(''); }
    }
</script>
